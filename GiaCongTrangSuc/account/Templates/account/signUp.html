{% extends 'account/base.html' %}
{% load static %}
{% block title %}Đăng ký - JP{% endblock %}

{% block signUp %}
<div class="ctn">
    <form action="" method="post" class="form" id="form-1">
        {% csrf_token %}
        <h3 class="title">Đăng ký</h3>
        
        <div class="form-group {% if form_name_error %}invalid{% endif %}">
            <label for="full-name" class="form-label">Họ và Tên</label>
            <input type="text" id="full-name" name="full-name" class="form-control" placeholder="Nhập Họ và Tên">
            <span class="form-mess">
                {% if form_name_error %}
                    {{ form_name_error }}
                {% endif %}
            </span>
        </div>
        
        <div class="form-group {% if form_email_error %}invalid{% endif %}">
            <label for="form-email" class="form-label">Email</label>
            <input type="email" id="form-email" name="email" class="form-control" placeholder="Nhập email">
            <span class="form-mess">
                {% if form_email_error %}
                    {{ form_email_error }}
                {% endif %}
            </span>
        </div>
        
        <div class="form-group {% if form_password_error %}invalid{% endif %}">
            <label for="form-password" class="form-label">Mật khẩu</label>
            <input type="password" id="form-password" name="password" class="form-control" placeholder="Nhập mật khẩu">
            <span class="form-mess">
                {% if form_password_error %}
                    {{ form_password_error }}
                {% endif %}
            </span>
        </div>
        
        <div class="form-group {% if form_password_confirmation_error %}invalid{% endif %}">
            <label for="password-comfirmation" class="form-label">Nhập lại mật khẩu</label>
            <input type="password" id="password-comfirmation" name="password-confirmation" class="form-control" placeholder="Nhập lại mật khẩu">
            <span class="form-mess">
                {% if form_password_confirmation_error %}
                    {{ form_password_confirmation_error }}
                {% endif %}
            </span>
        </div>
        
        <div class="form-btn">
            <button type="submit" class="form-btn__it">Đăng ký</button>
        </div>
    </form>
    
    {% if form_success %}
    <div class="success-message" style="color: green; text-align: center;">
        <p>{{ form_success }}</p>
    </div>
    <script>
        setTimeout(function() {
            window.location.href = "{% url 'login' %}";
        }, 3000); // Redirect after 3 seconds
    </script>
    {% endif %}
    
    <div class="other">
        <span>Bạn đã có tài khoản?</span>
        <a href="{% url 'login' %}" class="other__link">
            <span>Đăng nhập</span>
        </a>
    </div>
</div>

{% endblock %}
{% block signUpJS %}
<script src="{% static 'account/JS/signUp.js' %}?v={{ timestamp }}"></script>
{% endblock %}
